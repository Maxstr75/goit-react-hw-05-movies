{"version":3,"file":"static/js/home-page.49b67d09.chunk.js","mappings":"2PAGAA,IAAAA,SAAAA,QAAyB,gCACzBA,IAAAA,SAAAA,OAAwB,CACtBC,QCLqB,oCDQhB,IAAMC,EAAW,mCAAG,wGACFF,IAAAA,IAAA,uBADE,uBACjBG,EADiB,EACjBA,KACFC,EAASD,EAAKE,QAFK,kBAGlBD,GAHkB,2CAAH,qD,mBELXE,EAAY,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,QAASC,EAAY,EAAZA,MAC7BC,GAAWC,EAAAA,EAAAA,MACXC,GAAYC,EAAAA,EAAAA,IAAa,WAAD,OAAYL,GAAW,CAAEA,QAAAA,IAEvD,OACE,+BACE,yBACE,eAAIM,GAAIF,EAAWG,MAAO,CAAEC,KAAMN,GAAlC,SACGD,KAFID,IAOd,ECqBD,EAhCiB,WAEf,OAA0BS,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KAkBA,OAhBAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS,mCAAG,+GAIJpB,IAJI,gBAGJG,EAHI,EAGZF,KAAQE,QAGVa,EAASb,GANK,gDAQde,EAAS,KAAEG,SARG,yDAAH,qDAWfD,GACD,GAAE,KAID,iCACE,4CACCH,IAAS,uBAAIA,IACbF,EAAMO,KAAI,YAAoB,IAAjBhB,EAAgB,EAAhBA,MAAOiB,EAAS,EAATA,GACnB,OAAO,SAACnB,EAAD,CAAoBC,QAASkB,EAAIjB,MAAOA,GAAxBiB,EACxB,MAGN,C","sources":["services/api.js","services/key.js","components/MovieList/MovieList.jsx","pages/HomePage.jsx"],"sourcesContent":["import axios from 'axios';\nimport { API_KEY } from 'services/key';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\naxios.defaults.params = {\n  api_key: API_KEY,\n};\n// Поиск по трендам самых популярных фильмов на сегодня для создания коллекции на главной странице.\nexport const fetchTrends = async () => {\n  const { data } = await axios.get(`/trending/movie/day`);\n  const trends = data.results;\n  return trends;\n};\n","export const API_KEY = '827cb17c4a19aaac58b5a69a05bdba2b';\n","import PropTypes from 'prop-types';\nimport { useLocation, generatePath } from 'react-router-dom';\n\nexport const MovieList = ({ movieId, title }) => {\n  const location = useLocation();\n  const movieList = generatePath(`/movies/${movieId}`, { movieId });\n\n  return (\n    <>\n      <li key={movieId}>\n        <li to={movieList} state={{ from: location }}>\n          {title}\n        </li>\n      </li>\n    </>\n  );\n};\n\nMovieList.propTypes = {\n  title: PropTypes.string.isRequired,\n  movieId: PropTypes.number.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport { fetchTrends } from 'services/api';\nimport { MovieList } from 'components/MovieList/MovieList';\n// import { useFetchTrends } from 'hooks/useFetchTrends';\n\nconst HomePage = () => {\n  // Вынес в hooks\n  const [films, setFilms] = useState([]);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const {\n          data: { results },\n        } = await fetchTrends();\n\n        setFilms(results);\n      } catch (e) {\n        setError(e.message);\n      }\n    };\n    fetchData();\n  }, []);\n\n  //   const { films, error } = useFetchTrends();\n  return (\n    <>\n      <h1>Trending movies</h1>\n      {error && <p>{error}</p>}\n      {films.map(({ title, id }) => {\n        return <MovieList key={id} movieId={id} title={title} />;\n      })}\n    </>\n  );\n};\n\nexport default HomePage"],"names":["axios","api_key","fetchTrends","data","trends","results","MovieList","movieId","title","location","useLocation","movieList","generatePath","to","state","from","useState","films","setFilms","error","setError","useEffect","fetchData","message","map","id"],"sourceRoot":""}