"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[347],{4649:function(e,r,n){n.r(r),n.d(r,{default:function(){return v}});var t=n(2791),a=n(3504),c=n(6871),i=n(4768),s=n(1391),u=n(184),o=function(e){var r=e.film,n=r.poster_path,t=r.release_date,a=r.vote_average,c=r.genres,i=r.title,o=r.overview,l=e.movieId,p=e.backFrom,f=n?"https://image.tmdb.org/t/p/original".concat(n):"https://upload.wikimedia.org/wikipedia/commons/archive/a/ac/20121003093557%21No_image_available.svg",d=t.slice(0,4),h=10*a.toFixed(1),v=c.map((function(e){return e.name})).join(", ");return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("img",{src:f,alt:i,width:300,height:450}),(0,u.jsxs)("ul",{children:[(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("h1",{children:[i," (",d,")"]}),(0,u.jsxs)("p",{children:["User Score: ",h,"%"]})]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("label",{children:"Overview"}),(0,u.jsx)("p",{children:o})]}),(0,u.jsxs)("li",{children:[(0,u.jsx)("label",{children:"Genres"}),(0,u.jsx)("p",{children:v})]})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{children:"More information"}),(0,u.jsxs)("ul",{children:[(0,u.jsx)("li",{children:(0,u.jsx)(s.Z,{to:"/movies/".concat(l,"/cast"),state:{from:p.current},children:"--- Cast ---"})}),(0,u.jsx)("li",{children:(0,u.jsx)(s.Z,{to:"/movies/".concat(l,"/reviews"),state:{from:p.current},children:"--- Reviews ---"})})]})]})]})},l=n(5861),p=n(885),f=n(4687),d=n.n(f),h=n(4390),v=function(){var e=function(){var e,r,n=(0,t.useState)(null),a=(0,p.Z)(n,2),i=a[0],s=a[1],u=(0,t.useState)(null),o=(0,p.Z)(u,2),f=o[0],v=o[1],m=(0,c.UO)().movieId,x=(0,c.s0)(),j=null!==(e=null===(r=(0,c.TH)().state)||void 0===r?void 0:r.from)&&void 0!==e?e:"/",k=(0,t.useRef)(j);return(0,t.useEffect)((function(){if(""!==m){var e=function(){var e=(0,l.Z)(d().mark((function e(){var r,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.Y5)(m);case 3:r=e.sent,n=r.data,s(n),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(0),404!==e.t0.response.status){e.next=12;break}return e.abrupt("return",x("/"));case 12:v(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}}),[m,x]),{film:i,error:f,backLinkHref:j,movieId:m,backFrom:k}}(),r=e.film,n=e.error,s=e.backLinkHref,f=e.movieId,v=e.backFrom;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(a.rU,{to:s,children:[(0,u.jsx)(i.gYP,{}),"Go back"]}),n&&(0,u.jsx)("p",{children:n}),r&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o,{film:r,movieId:f,backFrom:v}),(0,u.jsx)(t.Suspense,{fallback:(0,u.jsx)("div",{children:"Loading..."}),children:(0,u.jsx)(c.j3,{})})]})]})}},4390:function(e,r,n){n.d(r,{Bt:function(){return d},FE:function(){return l},PY:function(){return o},Y5:function(){return p},y:function(){return f}});var t=n(5861),a=n(4687),c=n.n(a),i=n(4569),s=n.n(i);s().defaults.baseURL="https://api.themoviedb.org/3/";var u="827cb17c4a19aaac58b5a69a05bdba2b",o=function(){var e=(0,t.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("trending/movie/day?api_key=".concat(u));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,t.Z)(c().mark((function e(r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("search/movie?api_key=".concat(u,"&query=").concat(r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),p=function(){var e=(0,t.Z)(c().mark((function e(r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("movie/".concat(r,"?api_key=").concat(u));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),f=function(){var e=(0,t.Z)(c().mark((function e(r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("movie/".concat(r,"/credits?api_key=").concat(u));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),d=function(){var e=(0,t.Z)(c().mark((function e(r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("movie/".concat(r,"/reviews?api_key=").concat(u));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=movie-details-page.7fe2080e.chunk.js.map