{"version":3,"file":"static/js/home-page.efd024c6.chunk.js","mappings":"uMAIaA,EAAY,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,QAASC,EAAY,EAAZA,MAC7BC,GAAWC,EAAAA,EAAAA,MACXC,GAAYC,EAAAA,EAAAA,IAAa,WAAD,OAAYL,GAAW,CAAEA,QAAAA,IAEvD,OACE,+BACE,wBACE,SAAC,IAAD,CAAMM,GAAIF,EAAWG,MAAO,CAAEC,KAAMN,GAApC,SACGD,KAFGD,IAOb,C,qJCoBD,EAhCiB,WAoBf,MCtB4B,WAC5B,OAA0BS,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KAiBA,OAfAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS,mCAAG,gHAIJC,EAAAA,EAAAA,MAJI,gBAGJC,EAHI,EAGZC,KAAQD,QAGVN,EAASM,GANK,gDAQdJ,EAAS,KAAEM,SARG,yDAAH,qDAWfJ,GACD,GAAE,IAEI,CAAEL,MAAAA,EAAOE,MAAAA,EACjB,CDE0BQ,GAAjBV,EAAR,EAAQA,MAAOE,EAAf,EAAeA,MACf,OACE,iCACE,4CACCA,IAAS,uBAAIA,IACbF,EAAMW,KAAI,YAAoB,IAAjBpB,EAAgB,EAAhBA,MAAOqB,EAAS,EAATA,GACnB,OAAO,SAACvB,EAAA,EAAD,CAAoBC,QAASsB,EAAIrB,MAAOA,GAAxBqB,EACxB,MAGN,C,2MElCDC,IAAAA,SAAAA,QAAyB,gCACzB,IAAMC,EAAU,mCAGHR,EAAW,mCAAG,8FACZO,IAAAA,IAAA,qCAAwCC,IAD5B,mFAAH,qDAKXC,EAAmB,mCAAG,WAAMC,GAAN,iFACpBH,IAAAA,IAAA,+BAAkCC,EAAlC,kBAAmDE,IAD/B,mFAAH,sDAKnBC,EAAiB,mCAAG,WAAML,GAAN,iFAClBC,IAAAA,IAAA,gBAAmBD,EAAnB,oBAAiCE,IADf,mFAAH,sDAKjBI,EAAS,mCAAG,WAAMN,GAAN,iFACVC,IAAAA,IAAA,gBAAmBD,EAAnB,4BAAyCE,IAD/B,mFAAH,sDAKTK,EAAY,mCAAG,WAAMP,GAAN,iFACbC,IAAAA,IAAA,gBAAmBD,EAAnB,4BAAyCE,IAD5B,mFAAH,qD","sources":["components/MovieList/MovieList.jsx","pages/HomePage.jsx","hooks/useFetchTrends.jsx","services/api.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { useLocation, generatePath } from 'react-router-dom';\nimport { Link } from '@mui/material';\n\nexport const MovieList = ({ movieId, title }) => {\n  const location = useLocation();\n  const movieList = generatePath(`/movies/${movieId}`, { movieId });\n\n  return (\n    <>\n      <p key={movieId}>\n        <Link to={movieList} state={{ from: location }}>\n          {title}\n        </Link>\n      </p>\n    </>\n  );\n};\n\nMovieList.propTypes = {\n  title: PropTypes.string.isRequired,\n  movieId: PropTypes.number.isRequired,\n};\n","// import { useState, useEffect } from 'react';\n// import { fetchTrends } from 'services/api';\nimport { MovieList } from 'components/MovieList/MovieList';\nimport { useFetchTrends } from 'hooks/useFetchTrends';\n\nconst HomePage = () => {\n  // Вынес в hooks\n  // const [films, setFilms] = useState([]);\n  // const [error, setError] = useState(null);\n\n  // useEffect(() => {\n  //   const fetchData = async () => {\n  //     try {\n  //       const {\n  //         data: { results },\n  //       } = await fetchTrends();\n\n  //       setFilms(results);\n  //     } catch (e) {\n  //       setError(e.message);\n  //     }\n  //   };\n  //   fetchData();\n  // }, []);\n\n  const { films, error } = useFetchTrends();\n  return (\n    <>\n      <h1>Trending movies</h1>\n      {error && <p>{error}</p>}\n      {films.map(({ title, id }) => {\n        return <MovieList key={id} movieId={id} title={title} />;\n      })}\n    </>\n  );\n};\n\nexport default HomePage;\n","import { useEffect, useState } from 'react';\nimport { fetchTrends } from 'services/api';\n\nexport const useFetchTrends = () => {\n  const [films, setFilms] = useState([]);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const {\n          data: { results },\n        } = await fetchTrends();\n\n        setFilms(results);\n      } catch (e) {\n        setError(e.message);\n      }\n    };\n    fetchData();\n  }, []);\n\n  return { films, error };\n};\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '827cb17c4a19aaac58b5a69a05bdba2b';\n\n// Поиск по трендам самых популярных фильмов на сегодня для создания коллекции на главной странице.\nexport const fetchTrends = async () => {\n  return await axios.get(`trending/movie/day?api_key=${API_KEY}`);\n};\n\n// Поиск фильма по ключевому слову на странице фильмов\nexport const fetchMoviesBySearch = async name => {\n  return await axios.get(`search/movie?api_key=${API_KEY}&query=${name}`);\n};\n\n//  Поиск по ID - запрос полной информации о фильме для страницы кинофильма\nexport const fetchMovieDetails = async id => {\n  return await axios.get(`movie/${id}?api_key=${API_KEY}`);\n};\n\n// Запрос актеров\nexport const fetchCast = async id => {\n  return await axios.get(`movie/${id}/credits?api_key=${API_KEY}`);\n};\n\n// Запрос обзоров о фильме\nexport const fetchReviews = async id => {\n  return await axios.get(`movie/${id}/reviews?api_key=${API_KEY}`);\n};\n"],"names":["MovieList","movieId","title","location","useLocation","movieList","generatePath","to","state","from","useState","films","setFilms","error","setError","useEffect","fetchData","fetchTrends","results","data","message","useFetchTrends","map","id","axios","API_KEY","fetchMoviesBySearch","name","fetchMovieDetails","fetchCast","fetchReviews"],"sourceRoot":""}