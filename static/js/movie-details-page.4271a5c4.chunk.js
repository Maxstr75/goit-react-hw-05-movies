"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[347],{4649:function(e,r,n){n.r(r),n.d(r,{default:function(){return v}});var t=n(2791),a=n(3504),i=n(6871),c=n(4768),s=n(1391),o=n(184),u=function(e){var r=e.film,n=r.poster_path,t=r.release_date,a=r.vote_average,i=r.genres,c=r.title,u=r.overview,l=e.movieId,d=e.backFrom,f=n?"https://image.tmdb.org/t/p/original".concat(n):"https://upload.wikimedia.org/wikipedia/commons/archive/a/ac/20121003093557%21No_image_available.svg",p=t.slice(0,4),h=10*a.toFixed(1),v=i.map((function(e){return e.name})).join(", ");return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("img",{src:f,alt:c,width:300,height:450}),(0,o.jsxs)("ul",{children:[(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("h1",{children:[c," (",p,")"]}),(0,o.jsxs)("p",{children:["User Score: ",h,"%"]})]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("label",{children:"Overview"}),(0,o.jsx)("p",{children:u})]}),(0,o.jsxs)("li",{children:[(0,o.jsx)("label",{children:"Genres"}),(0,o.jsx)("p",{children:v})]})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{children:"More information"}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:(0,o.jsx)(s.Z,{to:"/movies/".concat(l,"/cast"),state:{from:d.current},children:"--- Cast ---"})}),(0,o.jsx)("li",{children:(0,o.jsx)(s.Z,{to:"/movies/".concat(l,"/reviews"),state:{from:d.current},children:"--- Reviews ---"})})]})]})]})},l=n(5861),d=n(885),f=n(4687),p=n.n(f),h=n(4390),v=function(){var e=function(){var e,r,n=(0,t.useState)(null),a=(0,d.Z)(n,2),c=a[0],s=a[1],o=(0,t.useState)(null),u=(0,d.Z)(o,2),f=u[0],v=u[1],m=(0,i.UO)().movieId,x=(0,i.s0)(),j=null!==(e=null===(r=(0,i.TH)().state)||void 0===r?void 0:r.from)&&void 0!==e?e:"/",b=(0,t.useRef)(j);return(0,t.useEffect)((function(){if(""!==m){var e=function(){var e=(0,l.Z)(p().mark((function e(){var r,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.Y5)(m);case 3:r=e.sent,n=r.data,s(n),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(0),404!==e.t0.response.status){e.next=12;break}return e.abrupt("return",x("/"));case 12:v(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}}),[m,x]),{film:c,error:f,backLinkHref:j,movieId:m,backFrom:b}}(),r=e.film,n=e.error,s=e.backLinkHref,f=e.movieId,v=e.backFrom;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(a.rU,{to:s,children:[(0,o.jsx)(c.gYP,{}),"Go back"]}),n&&(0,o.jsx)("p",{children:n}),r&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u,{film:r,movieId:f,backFrom:v}),(0,o.jsx)(t.Suspense,{fallback:(0,o.jsx)("div",{children:"Loading..."}),children:(0,o.jsx)(i.j3,{})})]})]})}},4390:function(e,r,n){n.d(r,{FE:function(){return l},PY:function(){return u},Y5:function(){return d}});var t=n(5861),a=n(4687),i=n.n(a),c=n(4569),s=n.n(c);s().defaults.baseURL="https://api.themoviedb.org/3/";var o="827cb17c4a19aaac58b5a69a05bdba2b",u=function(){var e=(0,t.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("trending/movie/day?api_key=".concat(o));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,t.Z)(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("search/movie?api_key=".concat(o,"&query=").concat(r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),d=function(){var e=(0,t.Z)(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s().get("movie/".concat(r,"?api_key=").concat(o));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=movie-details-page.4271a5c4.chunk.js.map